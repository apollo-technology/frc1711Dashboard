<!DOCTYPE html>
<html>

<head>
    <title>frc1711 - Ground Scouting</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="w3.css">
    <script src="parse.js"></script>
    <script src="w3data.js"></script>
</head>

<body class="w3-white">
    <ul class="w3-navbar w3-light-grey">
        <li><a href="index.html">Home</a></li>
        <li><a href="groundscouting.html">Ground Scouting</a></li>
        <li><a href="scouting.html" class="w3-green">Scouting</a></li>
        <li class="w3-dropdown-hover">
            <a href="#">More</a>
            <div class="w3-dropdown-content w3-white w3-card-4">
                <a href="http://www.raptors1711.com">View 1711 Main Website</a>
                <a href="https://www.thebluealliance.com/">View The Blue Alliance</a>
            </div>
        </li>
    </ul>
    <div class="w3-container w3-green w3-padding-4">
        <h2 class="w3-text-light-grey w3-green w3-center">Scouting</h2>
    </div>
    <table class="w3-table-all w3-large" id="id01">
        <tr w3-repeat="teams" class="w3-ul w3-border w3-hover-green" onclick="trackIndex(this)">
            <th>{{match}}</th>
        </tr>
    </table>
</body>
<script type="text/javascript">
Parse.initialize("raptors", "nil", "aTech6399");
Parse.serverURL = 'http://45.55.72.47:1337/parse';

var teams = [];

var TeamsQuery = Parse.Object.extend("s1711");
var query = new Parse.Query(TeamsQuery);
query.ascending("number");
query.find({
    success: function(results) {
        for (var i = 0; i < results.length; i++) {
            var object = results[i];
            teams.push({
                "match" : "Match " + (i+1)
            });
        }
        var dataObject = {
            "teams": teams
        };
        w3DisplayData("id01", dataObject);

    },
    error: function(error) {
        alert("Error: " + error.code + " " + error.message);
    }
});

function trackIndex(x) {
    var index = x.rowIndex+1;
    window.open("scoutingmatches.html" + "?match="+index, "_self")
}
</script>

</html>
